package com.reyurnible.view;import com.reyurnible.tabemon.R;import android.annotation.SuppressLint;import android.app.Dialog;import android.app.DialogFragment;import android.graphics.Color;import android.graphics.drawable.ColorDrawable;import android.os.Bundle;import android.view.View;import android.view.View.OnClickListener;import android.view.Window;import android.view.WindowManager;import android.widget.Button;import android.widget.TextView;@SuppressLint("ValidFragment")public class CustomListDialogFragment extends DialogFragment implements OnClickListener{    	private Button[] contentButtons = new Button[5];	private Button closeButton;	private TextView titleText;	private String title=null;	private String[] content=null;		private CustomListDialogCallback callback=null;		public CustomListDialogFragment(String title,String[] content){		 this.title = title;		 this.content = content;	}	public void setCallBack(CustomListDialogCallback callback){		this.callback = callback;	}    @Override    public Dialog onCreateDialog(Bundle savedInstanceState) {        Dialog dialog = new Dialog(getActivity());        // タイトル非表示        dialog.getWindow().requestFeature(Window.FEATURE_NO_TITLE);        // フルスクリーン        dialog.getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_LAYOUT_IN_SCREEN);        dialog.setContentView(R.layout.dialog_list_custom);        // 背景を透明にする        dialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));                contentButtons[0] = (Button)dialog.findViewById(R.id.dialog_list_Button1);        contentButtons[1] = (Button)dialog.findViewById(R.id.dialog_list_Button2);        contentButtons[2] = (Button)dialog.findViewById(R.id.dialog_list_Button3);        contentButtons[3] = (Button)dialog.findViewById(R.id.dialog_list_Button4);        contentButtons[4] = (Button)dialog.findViewById(R.id.dialog_list_Button5);        closeButton = (Button)dialog.findViewById(R.id.close_button);        closeButton.setOnClickListener(this);                //文字のセット        if(title!=null){        	titleText = (TextView)dialog.findViewById(R.id.title);            titleText.setText(title);	        }        if(content!=null){        	for(int i=0;i<contentButtons.length;i++){        		try{        			contentButtons[i].setText(content[i]);        			contentButtons[i].setOnClickListener(this);        		}catch(Exception e){        			contentButtons[i].setVisibility(View.GONE);        		}        	}        }        return dialog;    }	@Override	public void onClick(View v) {		if(callback!=null){			switch(v.getId()){			case R.id.dialog_list_Button1:				callback.onClickedContentButtons(0);				break;			case R.id.dialog_list_Button2:				callback.onClickedContentButtons(1);				break;			case R.id.dialog_list_Button3:				callback.onClickedContentButtons(2);				break;			case R.id.dialog_list_Button4:				callback.onClickedContentButtons(3);				break;			case R.id.dialog_list_Button5:				callback.onClickedContentButtons(4);				break;			case R.id.close_button:				callback.onClickedCloseButton();				break;			}		}		dismiss();	}}